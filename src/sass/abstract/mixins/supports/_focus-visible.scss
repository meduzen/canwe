/**
 * Test supports of `:focus-visible`.
 *
 * Should pass starting Safari 15.4. Please note that `@supports selector()`
 * works starting Safari 14.1, and will answer `false` on non-supporting
 * browsers. Once you drop Safari 15.3 support, delete this mixin.
 *
 * - https://developer.mozilla.org/en-US/docs/Web/CSS/:focus-visible#browser_compatibility
 * - https://developer.mozilla.org/en-US/docs/Web/CSS/@supports#browser_compatibility
 * - https://hidde.blog/focus-visible-more-than-keyboard/
 *
 * Alternative approach: https://www.tpgi.com/focus-visible-and-backwards-compatibility
 *
 * Usage:
 * `@include supports-focus-visible { .class { rules… } }`
 * `@include supports-focus-visible(true) { .class { rules… } }`
 * `@include supports-focus-visible(false) { .class { rules… } }`
 *
 * Parameters:
 * - $support (`true` by default)
 */
@mixin supports-focus-visible($support: true) {
  @if $support == true {
    @supports  #{'\selector(*:focus-visible)'}  {
      @content;
    }
  } @else {
    @supports  #{'\not selector(*:focus-visible)'}  {
      @content
    }
  }
}
